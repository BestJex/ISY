<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
</head>
<body>
<div id="wrapper">
    <div id="page-wrapper">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">用户资料 -
                    <small>编辑</small>
                    <small class="pull-right">
                        <button type="button" class="btn btn-primary" id="page_back">返回</button>
                    </small>
                </h1>
            </div>
            <!-- /.col-lg-12 -->
        </div>
        <div class="row">
            <div class="col-lg-8">
                <form role="form" id="edit_form">
                    <div class="form-group" id="valid_real_name">
                        <label>姓名</label>
                        <input class="form-control" name="realName" id="realName" th:value="${user.realName}"
                               placeholder="姓名"/>
                        <p class="text-danger hidden" id="real_name_error_msg"></p>
                        <input type="hidden" id="username" name="username" th:value="${user.username}"/>
                    </div>
                    <div class="form-group" id="valid_student_number">
                        <label>学号</label>
                        <input class="form-control" name="studentNumber" id="studentNumber"
                               th:value="${user.studentNumber}"
                               placeholder="学号"/>
                        <p class="text-danger hidden" id="student_number_error_msg"></p>
                    </div>
                    <div class="form-group" id="valid_sex" th:if="${user.sex=='男'}">
                        <label>性别</label>
                        <label class="radio-inline">
                            <input type="radio" name="sex" id="man" value="男" checked=""/>男
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="sex" id="feman" value="女"/>女
                        </label>
                        <p class="text-danger hidden" id="sex_error_msg"></p>
                    </div>
                    <div class="form-group" id="valid_sex" th:if="${user.sex=='女'}">
                        <label>性别</label>
                        <label class="radio-inline">
                            <input type="radio" name="sex" id="man" value="男"/>男
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="sex" id="feman" value="女" checked=""/>女
                        </label>
                        <p class="text-danger hidden" id="sex_error_msg"></p>
                    </div>
                    <div class="form-group" id="valid_sex" th:if="${user.sex=='' || user.sex==null}">
                        <label>性别</label>
                        <label class="radio-inline">
                            <input type="radio" name="sex" id="man" value="男" checked=""/>男
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="sex" id="feman" value="女"/>女
                        </label>
                        <p class="text-danger hidden" id="sex_error_msg"></p>
                    </div>
                    <div class="form-group" id="valid_nation">
                        <select class="form-control" name="nationId" id="select_nation">
                            <option>请选择民族</option>
                        </select>
                        <p class="text-danger hidden" id="nation_error_msg"></p>
                        <input type="hidden" id="nationId" th:value="${user.nationId}"/>
                    </div>
                    <div class="form-group" id="valid_political_landscape">
                        <select class="form-control" name="politicalLandscapeId" id="select_political_landscape">
                            <option>请选择政治面貌</option>
                        </select>
                        <p class="text-danger hidden" id="political_landscape_error_msg"></p>
                        <input type="hidden" id="politicalLandscapeId" th:value="${user.politicalLandscapeId}"/>
                    </div>
                    <div class="form-group" id="valid_birthday">
                        <label>生日</label>
                        <div class="input-group date form_date" data-date="" data-date-format="yyyy-mm-dd"
                             data-link-field="dtp_input2" data-link-format="yyyy-mm-dd">
                            <input class="form-control" size="16" type="text" th:value="${user.birthday}"
                                   readonly="readonly"/>
                            <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span>
                            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                        </div>
                        <input type="hidden" id="dtp_input2" name="birthday" th:value="${user.birthday}"/>
                        <p class="text-danger hidden" id="birthday_name_error_msg"></p>
                    </div>
                    <div class="form-group" id="valid_dormitory_number">
                        <label>宿舍号</label>
                        <input class="form-control" name="dormitoryNumber" id="dormitoryNumber"
                               th:value="${user.dormitoryNumber}"
                               placeholder="宿舍号"/>
                        <p class="help-block">格式：第一位为栋号，之后为宿舍号 如：6603 中间不要出现其它字符。</p>
                        <p class="text-danger hidden" id="dormitory_number_error_msg"></p>
                    </div>
                    <div class="form-group" id="valid_id_card">
                        <label>身份证号</label>
                        <input class="form-control" name="idCard" id="idCard" th:value="${user.idCard}"
                               placeholder="身份证号"/>
                        <p class="text-danger hidden" id="id_card_error_msg"></p>
                    </div>
                    <div class="form-group" id="valid_family_residence">
                        <label>家庭居住地</label>
                        <input class="form-control" name="familyResidence" id="familyResidence"
                               th:value="${user.familyResidence}"
                               placeholder="家庭居住地"/>
                        <p class="text-danger hidden" id="family_residence_error_msg"></p>
                    </div>
                    <div class="form-group" id="valid_parent_name">
                        <label>家长姓名</label>
                        <input class="form-control" name="parentName" id="parentName" th:value="${user.parentName}"
                               placeholder="家长姓名"/>
                        <p class="text-danger hidden" id="parent_name_error_msg"></p>
                    </div>
                    <div class="form-group" id="valid_parent_contact_phone">
                        <label>家长联系电话</label>
                        <input class="form-control" name="parentContactPhone" id="parentContactPhone"
                               th:value="${user.parentContactPhone}"
                               placeholder="家长联系电话"/>
                        <p class="text-danger hidden" id="parent_contact_phone_error_msg"></p>
                    </div>
                    <div class="form-group" id="valid_place_origin">
                        <label>生源地</label>
                        <input class="form-control" name="placeOrigin" id="placeOrigin" th:value="${user.placeOrigin}"
                               placeholder="生源地"/>
                        <p class="text-danger hidden" id="place_origin_error_msg"></p>
                    </div>
                    <input type="hidden" name="avatar" th:value="${avatarForSaveOrUpdate}" id="form_avatar"/>
                </form>
            </div>
            <div class="col-lg-4">
                <div class="thumbnail avatar-view" title="更改头像">
                    <img src="#" id="avatar" th:src="@{${user.avatar}}" alt="用户头像"/>
                </div>
                <div class="caption text-center">
                    <p>
                        <a href="javascript:;" id="cleanAvatar" class="btn btn-default" role="button"><i class="fa fa-times"></i> 清除</a>
                    </p>
                </div>
            </div>
            <div class="text-center col-lg-12">
                <button type="button" id="save" class="btn btn-default">保存</button>
                <button type="reset" class="btn btn-default">重置</button>
            </div>
        </div>
        <!-- Loading state -->
        <div class="loading" aria-label="Loading" role="img" tabindex="-1"></div>
        <footer class="footer" th:include="footer::footer">
            <p class="text-muted">&copy; Company 2016</p>
        </footer>
        <!-- /.footer -->
        <!-- Cropping modal -->
        <div class="modal fade" id="avatar-modal" aria-hidden="true" aria-labelledby="avatar-modal-label" role="dialog"
             tabindex="-1">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <form class="avatar-form" th:action="@{/anyone/users/upload/avatar}" enctype="multipart/form-data"
                          method="post">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title" id="avatar-modal-label">更换头像</h4>
                        </div>
                        <div class="modal-body">
                            <div class="avatar-body">

                                <!-- Upload image and data -->
                                <div class="avatar-upload">
                                    <input type="hidden" class="avatar-src" name="avatar_src"/>
                                    <input type="hidden" class="avatar-data" name="avatar_data"/>
                                    <label for="avatarInput">本地上传</label>
                                    <input type="file" class="avatar-input" id="avatarInput" name="avatar_file"/>
                                </div>

                                <!-- Crop and preview -->
                                <div class="row">
                                    <div class="col-md-9">
                                        <div class="avatar-wrapper"></div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="avatar-preview preview-lg"></div>
                                        <div class="avatar-preview preview-md"></div>
                                        <div class="avatar-preview preview-sm"></div>
                                    </div>
                                </div>

                                <div class="row avatar-btns">
                                    <div class="col-md-9">
                                        <div class="btn-group">
                                            <button type="button" class="btn btn-primary" data-method="rotate"
                                                    data-option="-90" title="Rotate -90 degrees">向左旋转
                                            </button>
                                            <button type="button" class="btn btn-primary" data-method="rotate"
                                                    data-option="-15">-15度
                                            </button>
                                            <button type="button" class="btn btn-primary" data-method="rotate"
                                                    data-option="-30">-30度
                                            </button>
                                            <button type="button" class="btn btn-primary" data-method="rotate"
                                                    data-option="-45">-45度
                                            </button>
                                        </div>
                                        <div class="btn-group">
                                            <button type="button" class="btn btn-primary" data-method="rotate"
                                                    data-option="90" title="Rotate 90 degrees">向右旋转
                                            </button>
                                            <button type="button" class="btn btn-primary" data-method="rotate"
                                                    data-option="15">15度
                                            </button>
                                            <button type="button" class="btn btn-primary" data-method="rotate"
                                                    data-option="30">30度
                                            </button>
                                            <button type="button" class="btn btn-primary" data-method="rotate"
                                                    data-option="45">45度
                                            </button>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <button type="submit" class="btn btn-primary btn-block avatar-save">完成
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- <div class="modal-footer">
                          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div> -->
                    </form>
                </div>
            </div>
        </div><!-- /.modal -->
        <!--民族模板-->
        <script id="nation-template" type="text/x-handlebars-template">
            {{#each listResult}}
            <option value="{{nation_value}}">{{nation_name}}</option>
            {{/each}}
        </script>
        <!--政治面貌模板-->
        <script id="political-landscape-template" type="text/x-handlebars-template">
            {{#each listResult}}
            <option value="{{political_landscape_value}}">{{political_landscape_name}}</option>
            {{/each}}
        </script>
        <input type="hidden" class="dy_script" value="/js/platform/users/users_profile_student_edit.js"/>
    </div>
    <!-- /#page-wrapper -->
</div>
<!-- /#wrapper -->
</body>

</html>
